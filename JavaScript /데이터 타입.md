## **1. 자바스크립트의 데이터 타입**
- 기본형 (Primitive Type), 참조형 (Reference Type)
- 데이터 영역의 관점에서 보았을 때 기본형은 불변하고 참조형은 가변한다. (3, 4의 기본형 / 참조형의 선언과 할당, 복사 참조)

## **2. 기반 용어**
- 변수 : 변경 가능한 데이터가 담길 수 있는 공간
- 식별자 : 변수의 이름

## **3. 기본형의 선언과 할당, 복사, 변경**
- 기본형의 경우 데이터를 복사했다가 변경하여도, 원본(a)의 값에 영향이 없다 - 식별자가 데이터 영역에 생긴 새로운 값의 주소를 따르기 때문.
- 한번 할당된 기본형 데이터는 데이터 참조가 0이 되어 가비지 컬렉터에서 수거해가기 전까지 그 주소가 변하지 않아, 해당 값을 할당하려 할 경우 언제나 같은 주소를 변수 영역에서 참조하게 된다. → '불변성'
### 예시 1) 기본형의 선언과 할당
```javascript
var a = "12345"
 
/* 아래와 동일
 * var a;
 * a = "12345";
 /
```
#### 메모리 관점에서
|                 |                           |       |       |       |       |
| --------------- | ------------------------- | ----- | ----- | ----- | ----- |
| **변수 영역**   | 주소                      | @1002 | @1003 | @1004 | @1005 |
| 데이터          | name: a  <br>value: @5002 |       |       |       |       |
| **데이터 영역** | 주소                      | @5002 | @5003 | @5004 | @5005 |
| 데이터          | "12345"                   |       |       |       |       |
### 예시 2) 기본형의 복사
```javascript
var b = a;
```
#### 메모리 관점에서
|                 |                           |                           |       |       |       |
| --------------- | ------------------------- | ------------------------- | ----- | ----- | ----- |
| **변수 영역**   | 주소                      | @1002                     | @1003 | @1004 | @1005 |
| 데이터          | name: a  <br>value: @5002 | name: b  <br>value: @5002 |       |       |       |
| **데이터 영역** | 주소                      | @5002                     | @5003 | @5004 | @5005 |
| 데이터          | "12345"                   |                           |       |       |       |
### 예시3 ) 기본형의 변경
```javascript
b = 6;
```
#### 메모리 관점에서
|                 |                           |                               |       |       |       |
| --------------- | ------------------------- | ----------------------------- | ----- | ----- | ----- |
| **변수 영역**   | 주소                      | @1002                         | @1003 | @1004 | @1005 |
| 데이터          | name: a  <br>value: @5002 | name: b  <br>**value: @5003** |       |       |       |
| **데이터 영역** | 주소                      | @5002                         | @5003 | @5004 | @5005 |
| 데이터          | "12345"                   | 6                             |       |       |       |

## **4. 참조형의 선언과 할당, 복사, 변경**

### 예시 1) 참조형의 선언과 할당
```javascript
var exObj1 = {	first: "two",    second: ["one", "two", "three"]};
```

#### 메모리 관점
|   |   |   |   |   |   |   |   |
|---|---|---|---|---|---|---|---|
|**변수 영역**|주소|@1002|@1003|@1004|@1005|@1006|...|
|데이터|name: exObj1  <br>value: @5002||||||
|**데이터 영역**|주소|@5002|@5003|@5004|@5005|@5006|@5007|
|데이터|(exObj1 - Obj)  <br>@7002~7003|"two"|(second - array)  <br>@8001~8003|"one"|"three"||
|**객체 exObj1의 변수 영역**|주소|@7002|@7003|@7004|@7005|@7006|...|
|데이터|name: first  <br>value: @5003|name: second  <br>value: 5004|||||
|**@5004 배열의 변수 영역**|주소|@8001|@8002|@8003|@8004|@8005|...|
|데이터|name: 0  <br>value: @5005|name: 1  <br>value: @5003|name: 2  <br>value: @5006||||

### 예시 2) 참조형의 복사
```javascript
var exObj2 = exObj1
```

#### 메모리 관점
|   |   |   |   |   |   |   |   |
|---|---|---|---|---|---|---|---|
|**변수 영역**|주소|@1002|@1003|@1004|@1005|@1006|...|
|데이터|name: exObj1  <br>**value: @5002**|name: exObj2  <br>**value: @5002**|||||
|**데이터 영역**|주소|**@5002**|@5003|@5004|@5005|@5006|@5007|
|데이터|**@7002~7003**|"two"|@8001~8003|"one"|"three"||
|**객체 exObj1의 변수 영역**|주소|@7002|@7003|@7004|@7005|@7006|...|
|데이터|name: first  <br>value: @5003|name: second  <br>value: 5004|||||
|**@5004 배열의 변수 영역**|주소|@8001|@8002|@8003|@8004|@8005|...|
|데이터|name: 0  <br>value: @5005|name: 1  <br>value: @5003|name: 2  <br>value: @5006||||

### 예시 3) 참조형의 변경
```javascript
exObj2.first = 30
```

#### 메모리 관점
|   |   |   |   |   |   |   |   |
|---|---|---|---|---|---|---|---|
|변수 영역|주소|@1002|@1003|@1004|@1005|@1006|...|
|데이터|name: exObj1  <br>**value: @5002**|name: exObj2  <br>**value: @5002**|||||
|데이터 영역|주소|**@5002**|@5003|@5004|@5005|@5006|**@5007**|
|데이터|**@7002~7003**|"two"|@8001~8003|"one"|"three"|**30**|
|객체 exObj1의 변수 영역|주소|@7002|@7003|@7004|@7005|@7006|...|
|데이터|name: first  <br>**value: @5007**|name: second  <br>value: 5004|||||
|@5004 배열의 변수 영역|주소|@8001|@8002|@8003|@8004|@8005|...|
|데이터|name: 0  <br>value: @5005|name: 1  <br>value: @5003|name: 2  <br>value: @5006||||

## **5. 참조형 데이터에서 불변성을 지키는 방법**

- 참조형의 예시 3과 같이 참조형의 경우 복사 후 데이터를 수정하게 되면, 원본(exObj1)의 값 역시 수정한 값으로 바뀌게 된다. 이는 참조형의 경우 각 객체 또는 배열의 변수 영역에서 참조하는 데이터 주소값이 변하더라도 참조형을 위해 할당된 key의 주소값은 동일하기 때문에 생기는 현상이다.
- 참조형에서 불변성을 지키며 객체를 복사하기 위해서는 새로이 객체를 선언해야 한다. 이 경우 새로이 선언하는 객체의 변수 영역이 따로 할당되기 때문에 불변성이 지켜진다.
- 중첩 객체가 있을 경우 얕은 복사(shallow copy)로는 문제가 해결되지 않는다. 모든 중첩 객체를 찾아 복사를 수행하는 깊은 복사(deep copy)는 보통 typeof(obj) === "object"를 이용해 재귀적으로 수행한다.
    - JSON.stringify와 JSON.parse를 사용해 간단하게 해결할 수 있지만 함수나 undefined, getter/setter 등 JSON으로 변경할 수 없는 프로퍼티 및 속성 값은 무시되므로 제한적으로 사용 가능하다.

```javascript
// 예시 4) 불변성을 지키며 객체를 복사하기
var exObj2 = {	first: "two",    second: ["one", "two", "three"]};
```

#### 메모리 관점
|   |   |   |   |   |   |   |   |
|---|---|---|---|---|---|---|---|
|**변수 영역**|주소|@1002|@1003|@1004|@1005|@1006|...|
|데이터|name: exObj1  <br>**value: @5002**|name: exObj2  <br>**value: @5007**|||||
|**데이터 영역**|주소|@5002|@5003|@5004|@5005|@5006|@5007|
|데이터|(exObj1 - Obj)  <br>**@7002~7003**|"two"|(second - array)  <br>@8001~8003|"one"|"three"|(exObj2 - Obj)  <br>**@7102~7103**|
|**객체 exObj1의 변수 영역**|주소|@7002|@7003|@7004|@7005|@7006|...|
|데이터|name: first  <br>value: @5003|name: second  <br>value: 5004|||||
|**객체 exObj2의 변수 영역**|주소|@7102|@7103|@7104|@7105|@7106||
|데이터|name: first  <br>value: @5003|name: second  <br>value: 5004|||||
|**@5004 배열의 변수 영역**|주소|@8001|@8002|@8003|@8004|@8005|...|
|데이터|name: 0  <br>value: @5005|name: 1  <br>value: @5003|name: 2  <br>value: @5006||||

## **6. undefined와 null**

### undefined의 자동 할당

1. 식별자를 선언하고 값을 할당하지 않았을 때
2. 리턴값이 없거나 호출되지 않는 함수를 실행했을 때
3. 객체에 속성 또는 대괄호로 접근하려 할 때 해당 데이터가 존재하지 않는 경우

- 위와 같이 자바스크립트 엔진을 통해 undefined가 자동 할당 되는 경우가 있기 때문에, '값이 없음'을 명시적으로 나타내주고자 할 경우 undefined가 아닌 null을 사용하여 착오가 없도록 한다.